/**
 * OCR用プロンプト定義
 * 将来的な帳票追加に対応できるよう関数として分離
 */

/**
 * 印鑑証明書用OCRプロンプト
 * 精度向上のため詳細な指示を追加
 */
export function getInkanPrompt(): string {
  return `あなたは日本の公文書を正確に読み取る専門家です。
この画像は日本の印鑑証明書（印鑑登録証明書）です。

【重要】以下のJSON形式で情報を抽出してください。

抽出項目：
1. name: 氏名（フルネーム）
   - 姓と名の間にスペースは入れない
   - 日本の人名として一般的な漢字を使用すること
   - 類似する漢字に注意：
     * 「克」と「晃」は異なる（晃=日+光、明るい意味）
     * 「平」と「幸」は異なる
     * 「太」と「大」は異なる
     * 「郎」と「朗」は異なる
   
2. address: 住所（都道府県から番地まで全て）
   - 都道府県名から始めること
   - 番地、号まで含めること
   - 「丁目」「番」「号」は省略せず含めること

3. certification_date: 発行年月日
   - YYYY-MM-DD形式で出力
   - 令和・平成などの元号は西暦に変換すること
   - 令和6年 = 2024年、令和5年 = 2023年

【読み取り時の注意】
- 縦書きの場合は上から下、右から左に読むこと
- 背景のパターンや透かしは無視すること
- 印影（印鑑の跡）と文字を区別すること
- 不鮮明な文字は文脈から推測すること
- 人名は日本で一般的な読み方を優先すること

読み取れない項目は null を返してください。
JSON形式のみで返答してください（説明文不要）。`;
}

/**
 * 車検証用OCRプロンプト
 */
export function getShakenPrompt(): string {
  return `この画像は日本の車検証（自動車検査証）です。以下のJSON形式で厳密に情報を抽出してください。

抽出項目：
- name: 所有者の氏名（フルネーム）
- address: 所有者の住所（都道府県から番地まで全て）
- vehicle_number: 車両番号（ナンバープレートの番号、例：品川500あ1234）
- chassis_number: 車台番号（シャシー番号）
- model: 車名・型式（メーカー名と型式）

注意事項：
- 読み取れない項目は null を返すこと
- 文字の誤認識を避けるため、慎重に確認すること
- 車両番号は「品川500あ1234」のような形式で、ハイフンなしで抽出すること
- 住所は省略せず、全ての情報を含めること

JSON形式で返答してください。説明文は不要です。`;
}

/**
 * ドキュメントタイプに応じたプロンプトを取得
 */
export function getPromptByDocumentType(documentType: 'inkan' | 'shaken'): string {
  switch (documentType) {
    case 'inkan':
      return getInkanPrompt();
    case 'shaken':
      return getShakenPrompt();
    default:
      throw new Error(`未知のドキュメントタイプ: ${documentType}`);
  }
}



